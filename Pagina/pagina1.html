<!DOCTYPE html>
<html>

<head>
	<title>Futuro em Nossas Mãos</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
	<link rel="stylesheet" href="../style/estilo.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">

</head>
<style>
	body {
		background-color: #ffffff;
	}
</style>

<body>


	<nav class="navbar bg-primary justify-content-between" data-bs-theme="dark">
		<a class="navbar-brand" href="#">
			<img src="../imagens do projeto/Logo do projeto.jpg" alt="Logo" width="90" height="70"
				class="d-inline-block ">
			Futuro em Nossas Mãos
		</a>
		<ul class="nav justify-content-end ">
			<li class="nav-item">
				<a class="nav-link active" aria-current="page" href="index.html">
					<h5>Home</h5>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link " aria-current="page" href="pagina1.html">
					<h5>Doador</h5>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link " aria-current="page" href="pagina2.html">
					<h5>Donatário</h5>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link " aria-current="page" href="pagina3.html">
					<h5>Contatos</h5>
				</a>
			</li>
		</ul>
	</nav>

	<div align="center">
		<h1 style="color: #F5A818;">Pagina de Doação</h1>
		<h2 style="color: #F5A818;">Selecione os itens a serem doados</h2>
	</div>
	<div class="container">

		<div class="mb-2">
			<div>
				<select name="opcoes" id="opcoes">
					<option value="Lapis">Lapis</option>
					<option value="Caderno">Caderno</option>
					<option value="Mochila">Mochila</option>
					<option value="Estojo">Estojo</option>
				</select>
			</div>
		</div>

		<div class="mb-2">
			<div>
				<label><strong>Quantidade*</strong></label>
			</div>
			<div>
				<input id="campoQuant" type="text">
			</div>
		</div>

		<div class="mb-2">
			<div>
				<label><strong>Doador</strong></label>
			</div>
			<div>
				<input id="nomed" type="text">
				<div><label><small>*para doações anônimas deixe o texto em branco</small></label></div>
			</div>
		</div>
		<div class="mb-2">
			<div>
				<label><strong>Telefone*</strong></label>
			</div>
			<div>
				<input id="telef" type="text">
				<div><label><small>*Necessário para entrarmos em contato e coletar os materiais</small></label></div>
			</div>
		</div>

		<div class="mt-4">
			<button class="btn btn-success" style="background-color: #0717fd;" onclick="addRow()">Doar Produto</button>

		</div>

		<div>
			<hr>
		</div>

		<div class="container text-center">
			<table class="table table-striped" id="myTable" border="1">
				<tr class="table table-dark">
					<th>Produto</th>
					<th>Quantidade</th>
					<th>Doador</th>
				</tr>
			</table>
		</div>

		<script>
			function addRow() {
				var valorSelecionado = document.getElementById("opcoes").value;
				var doadorValid = document.getElementById("nomed");
				let table = document.getElementById("myTable");
				let row = table.insertRow(-1);
				let produto = row.insertCell(0);
				let quantidade = row.insertCell(1);
				let doador = row.insertCell(2);
				if (doadorValid.value == "") {
					doadorValid.value = "Anônimo";
				}
				doador.innerHTML = doadorValid;
				produto.innerHTML = valorSelecionado;
				doador.innerHTML = document.getElementById("nomed").value;
				quantidade.innerHTML = document.getElementById("campoQuant").value;

				var produtos = [];
				for (var i = 1; i < table.rows.length; i++) {
					produto = {
						nome: table.rows[i].cells[0].innerHTML,
						quantidade: table.rows[i].cells[1].innerHTML,
						doador: table.rows[i].cells[2].innerHTML,
					};
					produtos.push(produto);
				}
				localStorage.setItem("produtos", JSON.stringify(produtos));
			}
			window.onload = function () {
				var produtos = localStorage.getItem("produtos");
				if (produtos) {
					produtos = JSON.parse(produtos);
					let table = document.getElementById("myTable");
					for (var i = 0; i < produtos.length; i++) {
						let row = table.insertRow(-1);
						let produto = row.insertCell(0);
						let quantidade = row.insertCell(1);
						let doador = row.insertCell(2);
						produto.innerHTML = produtos[i].nome;
						quantidade.innerHTML = produtos[i].quantidade;
						doador.innerHTML = produtos[i].doador;
					}
				}
			}
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
			crossorigin="anonymous"></script>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
		crossorigin="anonymous"></script>
	<script src="../scripts/pagina1.js"></script>
</body>

</html>